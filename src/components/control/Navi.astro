---
import { i18n } from "astro:config/client";
import i18nit from '@i18n/translation'
import { getRelativeLocaleUrl } from '@utils/url-utils';

const { page } = Astro.props;

const currentPage = page.currentPage;
const totalPages = page.lastPage;

const showPrevious = currentPage > 1;
const showNext = currentPage < totalPages;

const previousPageUrl = currentPage === 2 ? '/' : `/${currentPage - 1}/`;
const nextPageUrl = `/${currentPage + 1}/`;



const currentLang = Astro.currentLocale || i18n!.defaultLocale;
const t = i18nit(currentLang);

---

<nav data-aos="fade-up" class="flex justify-between items-center my-8 max-w-[var(--page-width)] mx-auto text-sm">
  <div class="prev-page w-24 md:w-28">
    {
      showPrevious ? (
        <a href={getRelativeLocaleUrl(currentLang, previousPageUrl)} class="px-3 py-1.5 text-[var(--text-color)] hover:bg-[var(--button-hover-color)] active:scale-95 border border-[var(--button-border-color)] rounded-lg transition-[transform,background-color] duration-200 flex items-center justify-center md:px-4 md:py-2">
          <svg class="w-4 h-4 mr-1.5 md:w-5 md:h-5 md:mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
          {t("pageNavigation.previous")}
        </a>
      ) : (
        <div class="px-3 py-1.5 md:px-4 md:py-2"></div>
      )
    }
  </div>

  <div class="page-info text-[var(--text-color)]/60">
    {t("pageNavigation.currentPage", { currentPage: currentPage, totalPages: totalPages })}
  </div>

  <div class="next-page w-24 md:w-28">
    {
      showNext ? (
        <a href={getRelativeLocaleUrl(currentLang, nextPageUrl)} class="px-3 py-1.5 text-[var(--text-color)] hover:bg-[var(--button-hover-color)] active:scale-95 border border-[var(--button-border-color)] rounded-lg transition-[transform,background-color] duration-200 flex items-center justify-center md:px-4 md:py-2">
          {t("pageNavigation.next")}
          <svg class="w-4 h-4 ml-1.5 md:w-5 md:h-5 md:ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </a>
      ) : (
        <div class="px-3 py-1.5 md:px-4 md:py-2"></div>
      )
    }
  </div>
</nav>